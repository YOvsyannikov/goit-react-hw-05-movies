{"version":3,"file":"static/js/881.1033ae60.chunk.js","mappings":"sPACA,GAAgB,KAAO,qBAAqB,OAAS,uBAAuB,MAAQ,sBAAsB,KAAO,sB,2CCKlG,SAASA,IACtB,OAAsCC,EAAAA,EAAAA,UAAS,IAA/C,eAAOC,EAAP,KAAoBC,EAApB,KACA,GAA4BF,EAAAA,EAAAA,UAAS,IAArC,eAAOG,EAAP,KAAeC,EAAf,KAEMC,GAAWC,EAAAA,EAAAA,MACXC,GAAUC,EAAAA,EAAAA,OAEhBC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAe,IAAIC,gBAAgBN,EAASO,QAAQC,IAAI,SAE9D,GAAIH,EAAc,CAChB,IAAMI,EAAS,mCAAG,uGACUC,EAAAA,EAAAA,IAAaL,GADvB,gBACRM,EADQ,EACRA,QAERZ,EAAUY,GACVd,EAAeQ,GAJC,2CAAH,qDAOfI,GACD,CACF,GAAE,CAACT,EAASO,SAEb,IAAMK,EAAY,mCAAG,WAAMC,GAAN,4EACnBA,EAAEC,kBAEElB,EAAYmB,OAHG,kCAISL,EAAAA,EAAAA,IAAad,GAJtB,gBAITe,EAJS,EAITA,QAERZ,EAAUY,GACVd,EAAe,IAEQ,IAAnBc,EAAQK,QACVC,IAAAA,OAAAA,QACE,uEAIJf,GAAQ,kBACHF,GADE,IAELO,OAAO,SAAD,OAAWX,MAjBF,4CAAH,sDAsBlB,OACE,iCACE,mBAAQsB,UAAWC,EAAAA,UAAnB,UACE,kBAAMD,UAAWC,EAAAA,KAAYC,SAAUR,EAAvC,WACE,kBACES,SAAU,SAAAR,GAAC,OAAIhB,EAAegB,EAAES,OAAOC,MAA5B,EACXL,UAAWC,EAAAA,MACXK,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,eACZJ,MAAO3B,KAET,mBAAQ4B,KAAK,SAASN,UAAWC,EAAAA,OAAjC,gCAKJ,eAAID,UAAWC,EAAAA,KAAf,SACGrB,EAAOkB,OAAS,GACflB,EAAO8B,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAP,EAAcC,YAAd,OACT,eAAaF,GAAIA,EAAjB,UACE,SAAC,KAAD,CACEG,GAAI,CACFC,SAAS,WAAD,iBAAgBJ,IACxBK,MAAO,CACLC,KAAM,CACJnC,SAAAA,KALR,UAUE,uBAAI8B,OAXCD,EADA,QAmBpB,C","sources":["webpack://goit-react-hw-05-movies/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Movies_form__4ow+Z\",\"button\":\"Movies_button__GcIka\",\"input\":\"Movies_input__KrUqs\",\"list\":\"Movies_list__hqYjd\"};","import Notiflix from 'notiflix';\nimport style from './Movies.module.css';\nimport { useState, useEffect } from 'react';\nimport { searchMovies } from '../../Api/Api';\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\n\nexport default function Movies() {\n  const [movieToFind, setMovieToFind] = useState('');\n  const [movies, setMovies] = useState([]);\n\n  const location = useLocation();\n  const history = useNavigate();\n\n  useEffect(() => {\n    const searchString = new URLSearchParams(location.search).get('query');\n\n    if (searchString) {\n      const getMovies = async () => {\n        const { results } = await searchMovies(searchString);\n\n        setMovies(results);\n        setMovieToFind(searchString);\n      };\n\n      getMovies();\n    }\n  }, [location.search]);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    if (movieToFind.trim()) {\n      const { results } = await searchMovies(movieToFind);\n\n      setMovies(results);\n      setMovieToFind('');\n\n      if (results.length === 0) {\n        Notiflix.Notify.failure(\n          'We did not found anything! Please change your request and try again'\n        );\n      }\n\n      history({\n        ...location,\n        search: `query=${movieToFind}`,\n      });\n    }\n  };\n\n  return (\n    <>\n      <header className={style.searchbar}>\n        <form className={style.form} onSubmit={handleSubmit}>\n          <input\n            onChange={e => setMovieToFind(e.target.value)}\n            className={style.input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search movie\"\n            value={movieToFind}\n          />\n          <button type=\"submit\" className={style.button}>\n            &#128269;\n          </button>\n        </form>\n      </header>\n      <ul className={style.list}>\n        {movies.length > 0 &&\n          movies.map(({ id, title, poster_path }) => (\n            <li key={id} id={id}>\n              <Link\n                to={{\n                  pathname: `/movies/${`${id}`}`,\n                  state: {\n                    from: {\n                      location,\n                    },\n                  },\n                }}\n              >\n                <p>{title}</p>\n              </Link>\n            </li>\n          ))}\n      </ul>\n    </>\n  );\n}\n"],"names":["Movies","useState","movieToFind","setMovieToFind","movies","setMovies","location","useLocation","history","useNavigate","useEffect","searchString","URLSearchParams","search","get","getMovies","searchMovies","results","handleSubmit","e","preventDefault","trim","length","Notiflix","className","style","onSubmit","onChange","target","value","type","autoComplete","autoFocus","placeholder","map","id","title","poster_path","to","pathname","state","from"],"sourceRoot":""}